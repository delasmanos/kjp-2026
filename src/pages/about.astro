---
import PageLayout from '@/layouts/PageLayout.astro';
import { getEntry, render } from 'astro:content';

const about = await getEntry('about', 'index');
if(!about) {
    throw new Error('About page not found');
}
const { headline, skills, experience } = about!.data;
const { Content } = await render(about);
---

<PageLayout title="About - Developer Portfolio">
	<div class="container mx-auto px-4 py-12 md:py-24 lg:py-32">
        <div class="max-w-4xl mx-auto">
            <h1 class="text-5xl md:text-7xl font-extrabold tracking-tighter mb-16 leading-tight animate-reveal">
                {headline}
            </h1>

            <div class="grid grid-cols-1 md:grid-cols-12 gap-12">
                <div class="md:col-span-8 space-y-8 animate-reveal [animation-delay:200ms]">
                    <div class="prose prose-lg dark:prose-invert">
                        <Content />
                        dsfgdfg
                    </div>

                    <div class="pt-12">
                        <h2 class="text-3xl font-bold tracking-tight mb-8">Experience</h2>
                        <div class="space-y-12">
                            {experience.map((job) => (
                                <div class="border-l-2 border-border pl-8 relative">
                                    <div class="absolute -left-[9px] top-0 w-4 h-4 rounded-full bg-background border-2 border-primary"></div>
                                    <h3 class="text-xl font-bold">{job.role}</h3>
                                    <p class="text-lg text-primary/80 mb-2">{job.company}</p>
                                    <p class="text-sm text-muted-foreground font-mono mb-4">{job.duration}</p>
                                    <p class="text-muted-foreground">{job.description}</p>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>

                <div class="md:col-span-4 space-y-12 animate-reveal [animation-delay:400ms]">
                    <div>
                        <h2 class="text-xl font-bold tracking-tight mb-6">Skills</h2>
                        <ul class="space-y-3">
                            {skills.map((skill) => (
                                <li class="flex items-center text-muted-foreground">
                                    <span class="w-1.5 h-1.5 bg-primary rounded-full mr-3"></span>
                                    {skill}
                                </li>
                            ))}
                        </ul>
                    </div>
                    
                    <div class="bg-secondary p-8 rounded-none">
                        <h3 class="text-lg font-bold mb-4">Contact</h3>
                        <p class="text-muted-foreground mb-4">
                            Open for new opportunities and collaborations.
                        </p>
                        <a href="mailto:hello@example.com" class="text-primary underline underline-offset-4 decoration-2 hover:text-muted-foreground transition-colors">
                            hello@example.com
                        </a>
                    </div>
                </div>
            </div>
        </div>
	</div>
</PageLayout>
